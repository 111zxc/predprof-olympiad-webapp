(this.webpackJsonpmentaldora=this.webpackJsonpmentaldora||[]).push([[0],{508:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(42),s=a.n(c),i=a(45),l=a.n(i),j=a(79),o=a(27),d=a(525),u=a(526),h=a(512),b=a(523),p=a(241),O=a(239),x=(a(281),a(283),O.a.initializeApp({apiKey:"AIzaSyCbaCa2h8j5GtIs_j8zbLUYszD0DZ0l6A8",authDomain:"mentaldora-fanclub.firebaseapp.com",databaseURL:"https://mentaldora-fanclub-default-rtdb.firebaseio.com",projectId:"mentaldora-fanclub",storageBucket:"mentaldora-fanclub.appspot.com",messagingSenderId:"1014522662280",appId:"1:1014522662280:web:c0224e6f08811f54303e3d"})),f=x.auth(),v=x,m=a(3),g=r.a.createContext();function y(){return Object(n.useContext)(g)}function w(e){var t=e.children,a=Object(n.useState)(),r=Object(o.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(!0),l=Object(o.a)(i,2),j=l[0],d=l[1];Object(n.useEffect)((function(){return f.onAuthStateChanged((function(e){s(e),d(!1)}))}),[]);var u={currentUser:c,login:function(e,t){return f.signInWithEmailAndPassword(e,t)},signup:function(e,t){return f.createUserWithEmailAndPassword(e,t)},logout:function(){return f.signOut()},resetPassword:function(e){return f.sendPasswordResetEmail(e)},updateEmail:function(e){return c.updateEmail(e)},updatePassword:function(e){return c.updatePassword(e)}};return Object(m.jsx)(g.Provider,{value:u,children:!j&&t})}var S=a(30),C=a(60),k=a(87);function D(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),r=y().signup,c=Object(n.useState)(""),s=Object(o.a)(c,2),i=s[0],O=s[1],x=Object(n.useState)(!1),f=Object(o.a)(x,2),v=f[0],g=f[1],w=Object(S.g)();function D(){return(D=Object(j.a)(l.a.mark((function n(c){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),t.current.value===a.current.value){n.next=3;break}return n.abrupt("return",O("Passwords do not match"));case 3:return n.prev=3,O(""),g(!0),n.next=8,r(e.current.value,t.current.value);case 8:w.push("/predprof-olympiad-webapp/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),O("Failed to create an account");case 14:g(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)(d.a,{bg:"primary",variant:"dark",fixed:"top",children:Object(m.jsx)(d.a.Brand,{href:"/predprof-olympiad-webapp/",children:Object(m.jsxs)("h4",{children:[Object(m.jsx)(k.a,{}),"       ",Object(m.jsx)("strong",{children:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0432\u0435\u0441\u0430"})]})})})}),Object(m.jsx)(u.a,{children:Object(m.jsxs)(u.a.Body,{children:[Object(m.jsx)("h2",{className:"text-center mb-4",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),i&&Object(m.jsx)(h.a,{variant:"danger",children:i}),Object(m.jsxs)(b.a,{onSubmit:function(e){return D.apply(this,arguments)},children:[Object(m.jsxs)(b.a.Group,{id:"email",children:[Object(m.jsx)(b.a.Label,{children:"Email"}),Object(m.jsx)(b.a.Control,{type:"email",ref:e,required:!0})]}),Object(m.jsxs)(b.a.Group,{id:"password",children:[Object(m.jsx)(b.a.Label,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)(b.a.Control,{type:"password",ref:t,required:!0})]}),Object(m.jsxs)(b.a.Group,{id:"password-confirm",children:[Object(m.jsx)(b.a.Label,{children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(m.jsx)(b.a.Control,{type:"password",ref:a,required:!0})]}),Object(m.jsx)(p.a,{disabled:v,className:"w-100",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})}),Object(m.jsxs)("div",{className:"w-100 text-center mt-2",children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? ",Object(m.jsx)(C.b,{to:"/predprof-olympiad-webapp/login/",children:"\u0412\u043e\u0439\u0442\u0438!"})]})]})}var H=a(521),I=a(520),M=a(522),F=a(242),B=a(243),E=a(66),N=a(244),P=a(269),R=a(513),G=a(514),L=a(515),U=a(519),q=a(266),A=a(267),z=a(108),Y=a(104),K=a(270),T=a(248),W=a.n(T),J=(a(292),[{name:"\u041d\u0435\u0434\u0435\u043b\u044f",value:"1"},{name:"\u0414\u0432\u0435 \u043d\u0435\u0434\u0435\u043b\u0438",value:"2"},{name:"\u041c\u0435\u0441\u044f\u0446",value:"3"},{name:"\u041f\u043e\u043b\u0433\u043e\u0434\u0430",value:"4"},{name:"\u0413\u043e\u0434",value:"5"},{name:"\u0412\u0440\u0443\u0447\u043d\u0443\u044e",value:"6"}]),Z=new Date;function _(e){var t=153,a=4*(e+1401)+3,n=5*Math.trunc(a%1461/4)+2,r=Math.trunc(n%t/5)+1,c=(Math.trunc(n/t)+2)%12+1,s=Math.trunc(a/1461)-4716+Math.trunc((14-c)/12);return r=String(r),(c=String(c))<10&&(c="0"+c),r<10&&(r="0"+r),t=r+"."+c+"."+(s=String(s))}var Q=function(e){Object(N.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).newData=[],n.state={data:[{kg:0,name:"0"},{kg:0,name:"0"}],show:!1,active:1,cStartDate:427,cSDate:Z},n.DateChange=n.DateChange.bind(Object(E.a)(n)),n.HandleClose=n.HandleClose.bind(Object(E.a)(n)),n.HandleOpen=n.HandleOpen.bind(Object(E.a)(n)),n.SetChecked=n.SetChecked.bind(Object(E.a)(n)),n.HandleChange=n.HandleChange.bind(Object(E.a)(n)),n}return Object(B.a)(a,[{key:"HandleChange",value:function(e){var t=this;t.state.cSDate=e,t.setState({cSDate:e});var a=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=parseInt(a),c=parseInt(n),s=e.getFullYear(),i=367*s-Math.trunc(7*(s+5001+Math.trunc((c-9)/7))/4)+Math.trunc(275*c/9)+r+1729777;this.setState({cStartDate:i}),t.state.cStartDate=i}},{key:"HandleClose",value:function(){this.setState({show:!1}),this.DateChange()}},{key:"HandleOpen",value:function(){this.setState({show:!0})}},{key:"SetChecked",value:function(e){this.setState({active:e})}},{key:"DateChange",value:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=parseInt(t),r=parseInt(a),c=e.getFullYear(),s=e=367*c-Math.trunc(7*(c+5001+Math.trunc((r-9)/7))/4)+Math.trunc(275*r/9)+n+1729777;1==this.state.active?s-=7:2==this.state.active?s-=14:3==this.state.active?s-=30:4==this.state.active?s-=123:5==this.state.active?s-=365:6==this.state.active&&(s=this.state.cStartDate);var i,l=this;this.newData=[],v.database().ref(V).get().then((function(t){t.exists()&&t.forEach((function(t){var a=t.val().search("/"),n=parseInt(t.val().slice(a+1));n>=s&&n<=e&&(i=parseInt(t.val().slice(0,a)),l.newData.push({kg:i,name:n}))})),l.newData.sort((function(e,t){return e.name-t.name}));for(var a=0;a<l.newData.length;a++)l.newData[a].name=_(l.newData[a].name);l.setState({data:l.newData})}))}},{key:"render",value:function(){var e=this,t=this.state.cSDate;return Object(m.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",flexDirection:"row",flex:1},children:[Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(M.a,{show:this.state.show,onHide:this.HandleClose,keyboard:!1,children:[Object(m.jsx)(M.a.Header,{closeButton:!0,children:Object(m.jsx)(M.a.Title,{children:"\u0412\u0432\u043e\u0434 \u0432\u0435\u0441\u0430"})}),Object(m.jsxs)(M.a.Body,{children:[Object(m.jsx)(R.a,{toggle:!0,children:J.map((function(t,a){return Object(m.jsx)(G.a,{type:"radio",variant:"secondary",name:"radio",value:t.value,checked:e.state.active===t.value,onChange:function(t){return e.SetChecked(t.currentTarget.value)},children:t.name},a)}))}),Object(m.jsx)(W.a,{selected:t,onChange:this.HandleChange})]}),Object(m.jsx)(M.a.Footer,{children:Object(m.jsx)(p.a,{variant:"primary",onClick:this.HandleClose,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})]})}),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(L.a,{width:500,height:350,data:this.state.data,margin:{top:30,right:30,left:20,bottom:5},children:[Object(m.jsx)(U.a,{strokeDasharray:"3 3"}),Object(m.jsx)(q.a,{dataKey:"name"}),Object(m.jsx)(A.a,{}),Object(m.jsx)(z.a,{}),Object(m.jsx)(Y.a,{}),Object(m.jsx)(K.a,{type:"monotone",dataKey:"kg",stroke:"#8884d8",activeDot:{r:8}})]})}),Object(m.jsx)(p.a,{onClick:this.HandleOpen,style:{justifyContent:"center",flexDirection:"row",flex:1},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0413\u0440\u0430\u0444\u0438\u043a"})]})}}]),a}(r.a.Component),V="";function X(){var e=y(),t=e.currentUser;e.logout;return V=t.email.replace(".",""),Object(m.jsx)(Q,{})}function $(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=parseInt(t),r=parseInt(a),c=e.getFullYear();return 367*c-Math.trunc(7*(c+5001+Math.trunc((r-9)/7))/4)+Math.trunc(275*r/9)+n+1729777}function ee(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=(t[0],t[1]),r=y(),c=r.currentUser,s=r.logout,i=Object(S.g)(),h=Object(n.useRef)(),O=Object(n.useState)(!1),x=Object(o.a)(O,2),f=x[0],g=x[1],w=function(){return g(!1)};function C(){return(C=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,s();case 4:i.push("/predprof-olympiad-webapp/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return c.email.replace(".",""),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)(d.a,{bg:"primary",variant:"dark",fixed:"top",style:{width:"100vw",height:"7vh"},children:[Object(m.jsx)(d.a.Brand,{href:"/predprof-olympiad-webapp/",children:Object(m.jsxs)("h4",{children:[Object(m.jsx)(k.a,{}),"       ",Object(m.jsx)("strong",{children:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0432\u0435\u0441\u0430"})]})}),Object(m.jsx)(d.a.Collapse,{className:"justify-content-end",children:Object(m.jsx)(p.a,{variant:"danger",onClick:function(){return C.apply(this,arguments)},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})})]}),Object(m.jsxs)(I.a,{style:{width:"45vw",height:"25vh",justifyContent:"center"},children:[Object(m.jsx)("h3",{children:"\u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0432\u0435\u0441!"}),Object(m.jsx)("p",{children:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u0432\u0432\u043e\u0434 \u0432\u0435\u0441\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0442\u043e\u0447\u043d\u044b\u0435 \u0438 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0433\u0440\u0430\u0444\u0438\u043a\u0438!"}),Object(m.jsx)("p",{children:Object(m.jsx)(p.a,{variant:"primary",onClick:function(){return g(!0)},children:"\u0412\u0432\u0435\u0441\u0442\u0438 \u0432\u0435\u0441"})}),Object(m.jsxs)(M.a,{show:f,onHide:w,keyboard:!1,children:[Object(m.jsx)(M.a.Header,{closeButton:!0,children:Object(m.jsx)(M.a.Title,{children:"\u0412\u0432\u043e\u0434 \u0432\u0435\u0441\u0430"})}),Object(m.jsx)(M.a.Body,{children:Object(m.jsx)(b.a,{children:Object(m.jsx)(b.a.Group,{children:Object(m.jsx)(b.a.Control,{ref:h,type:"text",required:!0})})})}),Object(m.jsxs)(M.a.Footer,{children:[Object(m.jsx)(p.a,{variant:"secondary",onClick:w,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(m.jsx)(p.a,{variant:"primary",onClick:function(e){console.log($());var t=c.email.replace(".","");v.database().ref(t).get().then((function(e){e.exists()&&e.forEach((function(e){var a=e.val().search("/");parseInt(e.val().slice(a+1))==$()&&v.database().ref(t+"/"+e.key).remove()})),v.database().ref(t).push(h.current.value+"/"+$()),v.database().ref().child(t).get().then((function(e){e.exists()?console.log(e.val()):console.log("No data available")})).catch((function(e){console.error(e)})),w()}))},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]}),Object(m.jsx)(u.a,{style:{width:"45vw",height:"45vh"},children:Object(m.jsx)(u.a.Body,{children:Object(m.jsx)(X,{})})})]})})}function te(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=y().login,r=Object(n.useState)(""),c=Object(o.a)(r,2),s=c[0],i=c[1],O=Object(n.useState)(!1),x=Object(o.a)(O,2),f=x[0],v=x[1],g=Object(S.g)();function w(){return(w=Object(j.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,i(""),v(!0),n.next=6,a(e.current.value,t.current.value);case 6:g.push("/predprof-olympiad-webapp/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),i("Failed to log in");case 12:v(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)(d.a,{bg:"primary",variant:"dark",fixed:"top",children:Object(m.jsx)(d.a.Brand,{href:"/predprof-olympiad-webapp/",children:Object(m.jsxs)("h4",{children:[Object(m.jsx)(k.a,{}),"       ",Object(m.jsx)("strong",{children:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0432\u0435\u0441\u0430"})]})})})}),Object(m.jsx)(u.a,{children:Object(m.jsxs)(u.a.Body,{children:[Object(m.jsx)("h2",{className:"text-center mb-4",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),s&&Object(m.jsx)(h.a,{variant:"danger",children:s}),Object(m.jsxs)(b.a,{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(m.jsxs)(b.a.Group,{id:"email",children:[Object(m.jsx)(b.a.Label,{children:"Email"}),Object(m.jsx)(b.a.Control,{type:"email",ref:e,required:!0})]}),Object(m.jsxs)(b.a.Group,{id:"password",children:[Object(m.jsx)(b.a.Label,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)(b.a.Control,{type:"password",ref:t,required:!0})]}),Object(m.jsx)(p.a,{disabled:f,className:"w-100",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}),Object(m.jsxs)("div",{className:"w-100 text-center mt-2",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(m.jsx)(C.b,{to:"/predprof-olympiad-webapp/signup",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f!"})]})]})}var ae=a(137),ne=a(271);function re(e){var t=e.component,a=Object(ne.a)(e,["component"]),n=y().currentUser;return Object(m.jsx)(S.b,Object(ae.a)(Object(ae.a)({},a),{},{render:function(e){return n?Object(m.jsx)(t,Object(ae.a)({},e)):Object(m.jsx)(S.a,{to:"/predprof-olympiad-webapp/login"})}}))}var ce=function(){return Object(m.jsx)(H.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(m.jsx)("div",{className:"w-100",style:{maxWidth:"600px"},children:Object(m.jsx)(C.a,{children:Object(m.jsx)(w,{children:Object(m.jsxs)(S.d,{children:[Object(m.jsx)(re,{exact:!0,path:"/predprof-olympiad-webapp/",component:ee}),Object(m.jsx)(S.b,{path:"/predprof-olympiad-webapp/signup",component:D}),Object(m.jsx)(S.b,{path:"/predprof-olympiad-webapp/login",component:te})]})})})})})};a(507);s.a.render(Object(m.jsx)(ce,{}),document.getElementById("root"))}},[[508,1,2]]]);
//# sourceMappingURL=main.12410d8f.chunk.js.map